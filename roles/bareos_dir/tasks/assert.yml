---

- name: assert | Test if bareos_dir_hostname is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_hostname is defined
      - bareos_dir_hostname is string
      - bareos_dir_hostname is not none
    quiet: yes

- name: assert | Test if bareos_dir_password is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_password is defined
      - bareos_dir_password is string
      - bareos_dir_password is not none
    quiet: yes

- name: assert | Test if bareos_dir_queryfile is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_queryfile is defined
      - bareos_dir_queryfile is string
      - bareos_dir_queryfile is not none
    quiet: yes

- name: assert | Test if bareos_dir_max_concurrent_jobs is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_max_concurrent_jobs is defined
      - bareos_dir_max_concurrent_jobs is number
    quiet: yes

- name: assert | Test if bareos_dir_message is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_message is defined
      - bareos_dir_message is string
      - bareos_dir_message is not none
    quiet: yes

- name: assert | Test if bareos_dir_clients is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_clients is iterable
      - bareos_dir_clients is not none
    quiet: yes
  when:
    - bareos_dir_clients is defined

- name: assert | Test if items in bareos_dir_clients are set correctly
  ansible.builtin.assert:
    that:
      - item.name is defined
      - item.name is string
      - item.name is not none
      - item.address is defined
      - item.address is string
      - item.address is not none
      - item.password is defined
      - item.password is string
      - item.password is not none
    quiet: yes
  loop: "{{ bareos_dir_clients }}"
  loop_control:
    label: "{{ item.name }}"
  when:
    - bareos_dir_clients is defined

- name: assert | Test if bareos_dir_messages is set correctly
  ansible.builtin.assert:
    that:
      - bareos_dir_messages is iterable
      - bareos_dir_messages is not none
    quiet: yes
  when:
    - bareos_dir_messages is defined

- name: assert | Test if items in bareos_dir_messages are set correctly
  ansible.builtin.assert:
    that:
      - item.name is defined
      - item.name is string
      - item.name is not none
      - item.director is defined
      - item.director is string
      - item.director is not none
      - item.description is defined
      - item.description is string
      - item.description is not none
    quiet: yes
  loop: "{{ bareos_dir_messages }}"
  loop_control:
    label: "{{ item.name }}"
  when:
    - bareos_dir_messages is defined
